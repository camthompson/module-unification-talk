<!DOCTYPE html>
<html>
  <head>
    <title>Module Unification</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-slide-content { font-size: 32px; }
    </style>
  </script>
  </head>
  <body>
    <textarea id="source">
class: center, middle
# Ember Module Unification
## Atlanta Ember
## May 10 2016
---
class: center, middle
# Pre Ember App Kit
![:scale 100%](wild-west.jpg)
---
# Ember App Kit
```
app
  app.js
  controllers
    post-index.js
    post.js
  models
    author.js
    post.js
  router.js
  routes
    post-index.js
    post.js
  styles
    app.css
  templates
    application.hbs
    post-index.hbs
    post.hbs
  views
    post.js
```
---
# Ember CLI
```
app
  app.js
  components
    post.js
  controllers
    post.js
  models
    author.js
    post.js
  router.js
  routes
    post-index.js
    post.js
  styles
    app.css
  templates
    application.hbs
    post.hbs
    components
      blog-post.hbs
tests
  unit
    components
      blog-post-test.js
```
---
# Pods
```
app
  app.js
  author
    model.js
  post
    controller.js
    model.js
    route.js
    template.hbs
  router.js
  routes
    post-index.js
  styles
    app.css
  templates
    application.hbs
    components
      blog-post.hbs
tests
  unit
    components
      blog-post-test.js
```
---
# Problems with current structures
- Confusion between approaches
- Branching is unreasonable
- Name collisions with addons
- Multiple imports/exports for addons
- Local lookup?
- Module resolution is inefficient and difficult to reason about
---
# Module unification RFC
<https://github.com/emberjs/rfcs>
<https://github.com/emberjs/rfcs/pull/143>
---
# Module unification goal
- Reasonable number of items at a given level of hierarchy
- No slashes in component names
- Namespaced addons
- Movable subtrees
---
# Module unification goals
- The right structure should be obvious
- Ability to add (or remove) types
- Tests and styles alongside corresponding components
- Local relative lookup of components and helpers
---
# Module unification goals
- No "titlebar problem"
- Resolver configured by rules (not JavaScript)
- Efficient static analysis of structure at build time
- Extensible module classification
---
# Proposed new structure
[Example app structure](https://github.com/dgeb/rfcs/blob/module-unification/text/0000-module-unification.md#example-application)
---
# More information
- [RFC](https://github.com/emberjs/rfcs/pull/143)
- Ember NYC Meetup (May 26)
- [ember-module-migrator](https://github.com/rwjblue/ember-module-migrator)
    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      remark.macros.scale = function(percentage) {
        var url = this;
        return '<img src="' + url + '" style="width: ' + percentage + '" />';
      };
      var slideshow = remark.create({
          highlightStyle: 'monokai',
          highlightLanguage: 'javascript',
          slideNumberFormat: ''
        }) ;
    </script>
  </body>
</html>
